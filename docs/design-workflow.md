# デザインワークフロー検討

## 1. 選択肢の比較

### 1.1 Figma MCPサーバー連携（高度）

#### メリット
- FigmaのデザインをCursor内で直接参照可能
- デザインとコードの同期が取りやすい
- チーム開発時にデザイン共有が容易

#### デメリット
- 初期設定が複雑（Figma MCPサーバーの有効化、Cursor設定）
- Figmaのデスクトップアプリが必要
- 学習コストがある

#### 設定手順
1. Figmaデスクトップアプリで「Dev Mode MCP Server」を有効化
2. Cursorの設定でFigma MCPサーバーを登録
3. 接続確認後、Figmaデザインを参照しながらコーディング

#### 適用場面
- 大規模プロジェクト
- デザイナーとエンジニアが分業している場合
- デザインシステムが複雑な場合

---

### 1.2 Figmaでデザイン → 手動でコード実装（一般的）

#### メリット
- 設定不要、すぐに始められる
- Figmaの豊富なデザイン機能を活用
- デザインとコードの分離が明確

#### デメリット
- デザインからコードへの変換が手動
- デザイン変更時にコードも手動で更新が必要

#### ワークフロー
1. Figmaでデザイン作成
2. デザイン仕様をエクスポート（CSS、スペーシング情報）
3. Cursorでコード実装
4. 必要に応じてFigmaを参照しながら実装

#### 適用場面
- 中規模プロジェクト
- デザインが確定してから実装する場合
- このプロジェクトに適している

---

### 1.3 直接コードでデザイン（小規模向け）

#### メリット
- デザインツール不要
- 実装が速い
- デザインとコードが常に同期

#### デメリット
- デザインの試行錯誤がしにくい
- ビジュアルな確認が後回しになりがち
- レスポンシブ対応の検証が難しい

#### 適用場面
- 小規模プロジェクト
- シンプルなUI
- プロトタイプ段階

---

### 1.4 デザインシステムを先に定義（推奨）

#### メリット
- 一貫性のあるデザイン
- 実装時の迷いが少ない
- ドキュメントとして残る

#### ワークフロー
1. デザインシステムをMarkdownで定義（カラー、タイポグラフィ、コンポーネント）
2. Figmaでデザイン作成（デザインシステムに基づく）
3. Cursorでコード実装（デザインシステムを参照）

#### 適用場面
- どの規模のプロジェクトにも適用可能
- **このプロジェクトに最適**

---

## 2. このプロジェクトへの推奨アプローチ

### 推奨: デザインシステム定義 → Figmaデザイン → コード実装

#### 理由
1. **プロジェクト規模**: 中規模のWebアプリケーション
2. **開発体制**: 個人または小規模チーム
3. **要件**: 既に要求定義が明確
4. **既存プロジェクトの実績**: 他のプロジェクトでも同様のアプローチを採用

#### 具体的な手順

##### ステップ1: デザインシステムの定義
- `docs/ui-design-system.md` を作成
- カラーパレット、タイポグラフィ、コンポーネント仕様を定義
- 既存の `pawapoke-MFver` のデザインを参考に

##### ステップ2: Figmaでデザイン作成
- デザインシステムに基づいて画面デザインを作成
- 主要画面のみ作成（イベント一覧、イベント編集）
- レスポンシブデザインのブレークポイントを考慮

##### ステップ3: コード実装
- Cursorでコード実装
- 必要に応じてFigmaを参照
- デザインシステムドキュメントを参照

---

## 3. Figma MCPサーバー連携の設定方法（参考）

### 3.1 Figma側の設定
1. Figmaデスクトップアプリを開く
2. メニュー → 「基本設定」
3. 「Dev Mode MCP Serverを有効にする」をチェック

### 3.2 Cursor側の設定
1. Cursorを開く
2. 設定 → 「Tools & Integrations」
3. 「Add Custom MCP」をクリック
4. 設定ファイルに以下を追加：
```json
{
  "mcpServers": {
    "Figma": {
      "url": "http://127.0.0.1:3845/sse"
    }
  }
}
```
5. 保存後、サーバーを更新・起動

### 3.3 使用時の注意点
- Figmaデスクトップアプリが起動している必要がある
- 接続が切れた場合は再起動が必要
- 初回設定時は接続確認が必要

---

## 4. 実装時のベストプラクティス

### 4.1 デザインシステムの活用
- カラー、フォント、スペーシングは変数化
- コンポーネントは再利用可能に設計
- Tailwind CSSやCSS変数を活用

### 4.2 Figmaとの連携
- デザイン変更時はFigmaを更新してからコード実装
- デザイン仕様（スペーシング、カラーコード）をコピーして使用
- 画像やアイコンはFigmaからエクスポート

### 4.3 コード実装
- デザインシステムドキュメントを常に参照
- コンポーネント単位で実装
- レスポンシブ対応は実装時点で考慮

---

## 5. 結論

### 推奨アプローチ
1. **まずデザインシステムを定義**（`docs/ui-design-system.md`）
2. **Figmaで主要画面のデザインを作成**
3. **Cursorでコード実装**（Figmaを参照しながら）

### Figma MCPサーバー連携について
- **現時点では不要**（設定コストが高い）
- 将来的にデザインが複雑になった場合や、チーム開発になった場合に検討
- まずは手動での連携で十分

### 次のステップ
1. デザインシステムドキュメントの作成
2. 主要画面のワイヤーフレーム作成
3. Figmaでのデザイン作成（オプション）

---

**最終更新**: 2025-12-13

